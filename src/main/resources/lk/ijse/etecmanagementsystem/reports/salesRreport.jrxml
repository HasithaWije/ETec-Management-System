<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="Sales_Report_Detailed" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4eedbb89-b4f6-4469-9ab6-f642a1688cf7">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MYSQL"/>
	<parameter name="fromDate" class="java.sql.Timestamp"/>
	<parameter name="toDate" class="java.sql.Timestamp"/>
	<parameter name="limit" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[100]]></defaultValueExpression>
	</parameter>
	<query language="SQL"><![CDATA[SELECT
                pi.serial_number AS item_no,
                p.name AS item_name,
                p.description AS item_desc,
                si.unit_price,
                si.qty,
                si.total,
                s.sale_date
            FROM SalesItem si
            JOIN Sales s ON si.sale_id = s.sale_id
            JOIN ProductItem pi ON si.item_id = pi.item_id
            JOIN Product p ON pi.stock_id = p.stock_id
            WHERE s.sale_date BETWEEN $P{fromDate} AND $P{toDate}
            ORDER BY s.sale_date DESC
            LIMIT $P{limit}]]></query>
	<field name="item_no" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="serial_number"/>
		<property name="com.jaspersoft.studio.field.label" value="item_no"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="productitem"/>
	</field>
	<field name="item_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="name"/>
		<property name="com.jaspersoft.studio.field.label" value="item_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="product"/>
	</field>
	<field name="item_desc" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="description"/>
		<property name="com.jaspersoft.studio.field.label" value="item_desc"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="product"/>
	</field>
	<field name="unit_price" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="unit_price"/>
		<property name="com.jaspersoft.studio.field.label" value="unit_price"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="salesitem"/>
	</field>
	<field name="qty" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="qty"/>
		<property name="com.jaspersoft.studio.field.label" value="qty"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="salesitem"/>
	</field>
	<field name="total" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="total"/>
		<property name="com.jaspersoft.studio.field.label" value="total"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="salesitem"/>
	</field>
	<field name="sale_date" class="java.time.LocalDateTime">
		<property name="com.jaspersoft.studio.field.name" value="sale_date"/>
		<property name="com.jaspersoft.studio.field.label" value="sale_date"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="sales"/>
	</field>
	<variable name="grandTotal" calculation="Sum" class="java.math.BigDecimal">
		<expression><![CDATA[$F{total}]]></expression>
	</variable>
	<background splitType="Stretch"/>
	<title height="100" splitType="Stretch">
		<element kind="staticText" uuid="e6024479-2222-45e0-8452-985474665432" x="0" y="0" width="300" height="30" fontSize="20.0" bold="true" vTextAlign="Middle">
			<text><![CDATA[ETec Computers]]></text>
		</element>
		<element kind="staticText" uuid="a1234567-89ab-cdef-0123-456789abcdef" x="0" y="30" width="300" height="20" fontSize="12.0" bold="false" vTextAlign="Middle">
			<text><![CDATA[Detailed Sales Report]]></text>
		</element>
		<element kind="textField" uuid="b2345678-90cd-ef01-2345-6789abcdef01" x="60" y="60" width="200" height="20" vTextAlign="Middle">
			<expression><![CDATA[$P{fromDate} + "  to  " + $P{toDate}]]></expression>
		</element>
		<element kind="staticText" uuid="c3456789-01ef-2345-6789-abcdef012345" x="0" y="60" width="60" height="20" bold="true" vTextAlign="Middle">
			<text><![CDATA[Period:]]></text>
		</element>
		<element kind="rectangle" uuid="d4567890-12ab-3456-7890-1234567890ab" x="350" y="10" width="200" height="60" backcolor="#F0F0F0">
			<pen lineColor="#CCCCCC"/>
		</element>
		<element kind="staticText" uuid="e5678901-23cd-4567-8901-234567890123" x="360" y="20" width="80" height="20" bold="true" hTextAlign="Right" vTextAlign="Middle">
			<text><![CDATA[SALES TOTAL:]]></text>
		</element>
		<element kind="textField" uuid="f6789012-34de-5678-9012-345678901234" x="450" y="20" width="90" height="20" fontSize="12.0" evaluationTime="Report" pattern="#,##0.00" bold="true" hTextAlign="Right" vTextAlign="Middle">
			<expression><![CDATA[$V{grandTotal} == null ? 0.00 : $V{grandTotal}]]></expression>
		</element>
	</title>
	<columnHeader height="30" splitType="Stretch">
		<element kind="rectangle" uuid="98765432-1234-5678-9101-112131415161" x="0" y="0" width="555" height="30" backcolor="#E0E0E0">
			<pen lineWidth="0.0"/>
		</element>
		<element kind="staticText" uuid="11111111-2222-3333-4444-555555555555" x="5" y="0" width="75" height="30" bold="true" vTextAlign="Middle">
			<text><![CDATA[Item No]]></text>
		</element>
		<element kind="staticText" uuid="22222222-3333-4444-5555-666666666666" x="80" y="0" width="100" height="30" bold="true" vTextAlign="Middle">
			<text><![CDATA[Item Name]]></text>
		</element>
		<element kind="staticText" uuid="33333333-4444-5555-6666-777777777777" x="180" y="0" width="140" height="30" bold="true" vTextAlign="Middle">
			<text><![CDATA[Description]]></text>
		</element>
		<element kind="staticText" uuid="44444444-5555-6666-7777-888888888888" x="320" y="0" width="70" height="30" bold="true" hTextAlign="Right" vTextAlign="Middle">
			<text><![CDATA[Price]]></text>
		</element>
		<element kind="staticText" uuid="55555555-6666-7777-8888-999999999999" x="390" y="0" width="50" height="30" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Qty]]></text>
		</element>
		<element kind="staticText" uuid="66666666-7777-8888-9999-000000000000" x="440" y="0" width="110" height="30" bold="true" hTextAlign="Right" vTextAlign="Middle">
			<text><![CDATA[Total]]></text>
		</element>
	</columnHeader>
	<detail>
		<band height="25" splitType="Stretch">
			<element kind="textField" uuid="1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d" x="5" y="0" width="75" height="25" vTextAlign="Middle">
				<expression><![CDATA[$F{item_no}]]></expression>
			</element>
			<element kind="textField" uuid="2b3c4d5e-6f7a-8b9c-0d1e-2f3a4b5c6d7e" x="80" y="0" width="100" height="25" vTextAlign="Middle">
				<expression><![CDATA[$F{item_name}]]></expression>
			</element>
			<element kind="textField" uuid="3c4d5e6f-7a8b-9c0d-1e2f-3a4b5c6d7e8f" x="180" y="0" width="140" height="25" vTextAlign="Middle">
				<expression><![CDATA[$F{item_desc}]]></expression>
			</element>
			<element kind="textField" uuid="4d5e6f7a-8b9c-0d1e-2f3a-4b5c6d7e8f9a" x="320" y="0" width="70" height="25" pattern="#,##0.00" hTextAlign="Right" vTextAlign="Middle">
				<expression><![CDATA[$F{unit_price}]]></expression>
			</element>
			<element kind="textField" uuid="5e6f7a8b-9c0d-1e2f-3a4b-5c6d7e8f9a0b" x="390" y="0" width="50" height="25" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{qty}]]></expression>
			</element>
			<element kind="textField" uuid="6f7a8b9c-0d1e-2f3a-4b5c-6d7e8f9a0b1c" x="440" y="0" width="110" height="25" pattern="#,##0.00" hTextAlign="Right" vTextAlign="Middle">
				<expression><![CDATA[$F{total}]]></expression>
			</element>
			<element kind="line" uuid="7a8b9c0d-1e2f-3a4b-5c6d-7e8f9a0b1c2d" x="0" y="24" width="555" height="1" forecolor="#CCCCCC"/>
		</band>
	</detail>
	<pageFooter height="30" splitType="Stretch">
		<element kind="textField" uuid="8b9c0d1e-2f3a-4b5c-6d7e-8f9a0b1c2d3e" x="180" y="0" width="200" height="30" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA["Page " + $V{PAGE_NUMBER}]]></expression>
		</element>
		<element kind="textField" uuid="9c0d1e2f-3a4b-5c6d-7e8f-9a0b1c2d3e4f" x="0" y="0" width="100" height="30" pattern="MMMMM dd, yyyy" vTextAlign="Middle">
			<expression><![CDATA[new java.util.Date()]]></expression>
		</element>
	</pageFooter>
</jasperReport>
